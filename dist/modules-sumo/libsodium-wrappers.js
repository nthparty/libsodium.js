!function(_){function r(_,r){"use strict";var t,a=r.ready.then((function(){function a(){if(0!==t._sodium_init())throw new Error("libsodium was not correctly initialized.");for(var r=["crypto_hash_sha256","crypto_hash_sha256_final","crypto_hash_sha256_init","crypto_hash_sha256_update","sodium_version_string"],a=[d,A,M,m,I],o=0;o<a.length;o++)"function"==typeof t["_"+r[o]]&&(_[r[o]]=a[o]);var e=["SODIUM_LIBRARY_VERSION_MAJOR","SODIUM_LIBRARY_VERSION_MINOR","crypto_aead_chacha20poly1305_ABYTES","crypto_aead_chacha20poly1305_IETF_ABYTES","crypto_aead_chacha20poly1305_IETF_KEYBYTES","crypto_aead_chacha20poly1305_IETF_MESSAGEBYTES_MAX","crypto_aead_chacha20poly1305_IETF_NPUBBYTES","crypto_aead_chacha20poly1305_IETF_NSECBYTES","crypto_aead_chacha20poly1305_KEYBYTES","crypto_aead_chacha20poly1305_MESSAGEBYTES_MAX","crypto_aead_chacha20poly1305_NPUBBYTES","crypto_aead_chacha20poly1305_NSECBYTES","crypto_aead_chacha20poly1305_ietf_ABYTES","crypto_aead_chacha20poly1305_ietf_KEYBYTES","crypto_aead_chacha20poly1305_ietf_MESSAGEBYTES_MAX","crypto_aead_chacha20poly1305_ietf_NPUBBYTES","crypto_aead_chacha20poly1305_ietf_NSECBYTES","crypto_aead_xchacha20poly1305_IETF_ABYTES","crypto_aead_xchacha20poly1305_IETF_KEYBYTES","crypto_aead_xchacha20poly1305_IETF_MESSAGEBYTES_MAX","crypto_aead_xchacha20poly1305_IETF_NPUBBYTES","crypto_aead_xchacha20poly1305_IETF_NSECBYTES","crypto_aead_xchacha20poly1305_ietf_ABYTES","crypto_aead_xchacha20poly1305_ietf_KEYBYTES","crypto_aead_xchacha20poly1305_ietf_MESSAGEBYTES_MAX","crypto_aead_xchacha20poly1305_ietf_NPUBBYTES","crypto_aead_xchacha20poly1305_ietf_NSECBYTES","crypto_auth_BYTES","crypto_auth_KEYBYTES","crypto_auth_hmacsha256_BYTES","crypto_auth_hmacsha256_KEYBYTES","crypto_auth_hmacsha512256_BYTES","crypto_auth_hmacsha512256_KEYBYTES","crypto_auth_hmacsha512_BYTES","crypto_auth_hmacsha512_KEYBYTES","crypto_box_BEFORENMBYTES","crypto_box_MACBYTES","crypto_box_MESSAGEBYTES_MAX","crypto_box_NONCEBYTES","crypto_box_PUBLICKEYBYTES","crypto_box_SEALBYTES","crypto_box_SECRETKEYBYTES","crypto_box_SEEDBYTES","crypto_box_curve25519xchacha20poly1305_BEFORENMBYTES","crypto_box_curve25519xchacha20poly1305_MACBYTES","crypto_box_curve25519xchacha20poly1305_MESSAGEBYTES_MAX","crypto_box_curve25519xchacha20poly1305_NONCEBYTES","crypto_box_curve25519xchacha20poly1305_PUBLICKEYBYTES","crypto_box_curve25519xchacha20poly1305_SEALBYTES","crypto_box_curve25519xchacha20poly1305_SECRETKEYBYTES","crypto_box_curve25519xchacha20poly1305_SEEDBYTES","crypto_box_curve25519xsalsa20poly1305_BEFORENMBYTES","crypto_box_curve25519xsalsa20poly1305_MACBYTES","crypto_box_curve25519xsalsa20poly1305_MESSAGEBYTES_MAX","crypto_box_curve25519xsalsa20poly1305_NONCEBYTES","crypto_box_curve25519xsalsa20poly1305_PUBLICKEYBYTES","crypto_box_curve25519xsalsa20poly1305_SECRETKEYBYTES","crypto_box_curve25519xsalsa20poly1305_SEEDBYTES","crypto_core_ed25519_BYTES","crypto_core_ed25519_HASHBYTES","crypto_core_ed25519_NONREDUCEDSCALARBYTES","crypto_core_ed25519_SCALARBYTES","crypto_core_ed25519_UNIFORMBYTES","crypto_core_hchacha20_CONSTBYTES","crypto_core_hchacha20_INPUTBYTES","crypto_core_hchacha20_KEYBYTES","crypto_core_hchacha20_OUTPUTBYTES","crypto_core_hsalsa20_CONSTBYTES","crypto_core_hsalsa20_INPUTBYTES","crypto_core_hsalsa20_KEYBYTES","crypto_core_hsalsa20_OUTPUTBYTES","crypto_core_ristretto255_BYTES","crypto_core_ristretto255_HASHBYTES","crypto_core_ristretto255_NONREDUCEDSCALARBYTES","crypto_core_ristretto255_SCALARBYTES","crypto_core_salsa2012_CONSTBYTES","crypto_core_salsa2012_INPUTBYTES","crypto_core_salsa2012_KEYBYTES","crypto_core_salsa2012_OUTPUTBYTES","crypto_core_salsa20_CONSTBYTES","crypto_core_salsa20_INPUTBYTES","crypto_core_salsa20_KEYBYTES","crypto_core_salsa20_OUTPUTBYTES","crypto_generichash_BYTES","crypto_generichash_BYTES_MAX","crypto_generichash_BYTES_MIN","crypto_generichash_KEYBYTES","crypto_generichash_KEYBYTES_MAX","crypto_generichash_KEYBYTES_MIN","crypto_generichash_blake2b_BYTES","crypto_generichash_blake2b_BYTES_MAX","crypto_generichash_blake2b_BYTES_MIN","crypto_generichash_blake2b_KEYBYTES","crypto_generichash_blake2b_KEYBYTES_MAX","crypto_generichash_blake2b_KEYBYTES_MIN","crypto_generichash_blake2b_PERSONALBYTES","crypto_generichash_blake2b_SALTBYTES","crypto_hash_BYTES","crypto_hash_sha256_BYTES","crypto_hash_sha512_BYTES","crypto_kdf_BYTES_MAX","crypto_kdf_BYTES_MIN","crypto_kdf_CONTEXTBYTES","crypto_kdf_KEYBYTES","crypto_kdf_blake2b_BYTES_MAX","crypto_kdf_blake2b_BYTES_MIN","crypto_kdf_blake2b_CONTEXTBYTES","crypto_kdf_blake2b_KEYBYTES","crypto_kx_PUBLICKEYBYTES","crypto_kx_SECRETKEYBYTES","crypto_kx_SEEDBYTES","crypto_kx_SESSIONKEYBYTES","crypto_onetimeauth_BYTES","crypto_onetimeauth_KEYBYTES","crypto_onetimeauth_poly1305_BYTES","crypto_onetimeauth_poly1305_KEYBYTES","crypto_pwhash_ALG_ARGON2I13","crypto_pwhash_ALG_ARGON2ID13","crypto_pwhash_ALG_DEFAULT","crypto_pwhash_BYTES_MAX","crypto_pwhash_BYTES_MIN","crypto_pwhash_MEMLIMIT_INTERACTIVE","crypto_pwhash_MEMLIMIT_MAX","crypto_pwhash_MEMLIMIT_MIN","crypto_pwhash_MEMLIMIT_MODERATE","crypto_pwhash_MEMLIMIT_SENSITIVE","crypto_pwhash_OPSLIMIT_INTERACTIVE","crypto_pwhash_OPSLIMIT_MAX","crypto_pwhash_OPSLIMIT_MIN","crypto_pwhash_OPSLIMIT_MODERATE","crypto_pwhash_OPSLIMIT_SENSITIVE","crypto_pwhash_PASSWD_MAX","crypto_pwhash_PASSWD_MIN","crypto_pwhash_SALTBYTES","crypto_pwhash_STRBYTES","crypto_pwhash_argon2i_BYTES_MAX","crypto_pwhash_argon2i_BYTES_MIN","crypto_pwhash_argon2i_SALTBYTES","crypto_pwhash_argon2i_STRBYTES","crypto_pwhash_argon2id_BYTES_MAX","crypto_pwhash_argon2id_BYTES_MIN","crypto_pwhash_argon2id_SALTBYTES","crypto_pwhash_argon2id_STRBYTES","crypto_pwhash_scryptsalsa208sha256_BYTES_MAX","crypto_pwhash_scryptsalsa208sha256_BYTES_MIN","crypto_pwhash_scryptsalsa208sha256_MEMLIMIT_INTERACTIVE","crypto_pwhash_scryptsalsa208sha256_MEMLIMIT_MAX","crypto_pwhash_scryptsalsa208sha256_MEMLIMIT_MIN","crypto_pwhash_scryptsalsa208sha256_MEMLIMIT_SENSITIVE","crypto_pwhash_scryptsalsa208sha256_OPSLIMIT_INTERACTIVE","crypto_pwhash_scryptsalsa208sha256_OPSLIMIT_MAX","crypto_pwhash_scryptsalsa208sha256_OPSLIMIT_MIN","crypto_pwhash_scryptsalsa208sha256_OPSLIMIT_SENSITIVE","crypto_pwhash_scryptsalsa208sha256_SALTBYTES","crypto_pwhash_scryptsalsa208sha256_STRBYTES","crypto_scalarmult_BYTES","crypto_scalarmult_SCALARBYTES","crypto_scalarmult_curve25519_BYTES","crypto_scalarmult_curve25519_SCALARBYTES","crypto_scalarmult_ed25519_BYTES","crypto_scalarmult_ed25519_SCALARBYTES","crypto_scalarmult_ristretto255_BYTES","crypto_scalarmult_ristretto255_SCALARBYTES","crypto_secretbox_KEYBYTES","crypto_secretbox_MACBYTES","crypto_secretbox_MESSAGEBYTES_MAX","crypto_secretbox_NONCEBYTES","crypto_secretbox_xchacha20poly1305_KEYBYTES","crypto_secretbox_xchacha20poly1305_MACBYTES","crypto_secretbox_xchacha20poly1305_MESSAGEBYTES_MAX","crypto_secretbox_xchacha20poly1305_NONCEBYTES","crypto_secretbox_xsalsa20poly1305_KEYBYTES","crypto_secretbox_xsalsa20poly1305_MACBYTES","crypto_secretbox_xsalsa20poly1305_MESSAGEBYTES_MAX","crypto_secretbox_xsalsa20poly1305_NONCEBYTES","crypto_secretstream_xchacha20poly1305_ABYTES","crypto_secretstream_xchacha20poly1305_HEADERBYTES","crypto_secretstream_xchacha20poly1305_KEYBYTES","crypto_secretstream_xchacha20poly1305_MESSAGEBYTES_MAX","crypto_secretstream_xchacha20poly1305_TAG_FINAL","crypto_secretstream_xchacha20poly1305_TAG_MESSAGE","crypto_secretstream_xchacha20poly1305_TAG_PUSH","crypto_secretstream_xchacha20poly1305_TAG_REKEY","crypto_shorthash_BYTES","crypto_shorthash_KEYBYTES","crypto_shorthash_siphash24_BYTES","crypto_shorthash_siphash24_KEYBYTES","crypto_shorthash_siphashx24_BYTES","crypto_shorthash_siphashx24_KEYBYTES","crypto_sign_BYTES","crypto_sign_MESSAGEBYTES_MAX","crypto_sign_PUBLICKEYBYTES","crypto_sign_SECRETKEYBYTES","crypto_sign_SEEDBYTES","crypto_sign_ed25519_BYTES","crypto_sign_ed25519_MESSAGEBYTES_MAX","crypto_sign_ed25519_PUBLICKEYBYTES","crypto_sign_ed25519_SECRETKEYBYTES","crypto_sign_ed25519_SEEDBYTES","crypto_stream_KEYBYTES","crypto_stream_MESSAGEBYTES_MAX","crypto_stream_NONCEBYTES","crypto_stream_chacha20_IETF_KEYBYTES","crypto_stream_chacha20_IETF_MESSAGEBYTES_MAX","crypto_stream_chacha20_IETF_NONCEBYTES","crypto_stream_chacha20_KEYBYTES","crypto_stream_chacha20_MESSAGEBYTES_MAX","crypto_stream_chacha20_NONCEBYTES","crypto_stream_chacha20_ietf_KEYBYTES","crypto_stream_chacha20_ietf_MESSAGEBYTES_MAX","crypto_stream_chacha20_ietf_NONCEBYTES","crypto_stream_salsa2012_KEYBYTES","crypto_stream_salsa2012_MESSAGEBYTES_MAX","crypto_stream_salsa2012_NONCEBYTES","crypto_stream_salsa208_KEYBYTES","crypto_stream_salsa208_MESSAGEBYTES_MAX","crypto_stream_salsa208_NONCEBYTES","crypto_stream_salsa20_KEYBYTES","crypto_stream_salsa20_MESSAGEBYTES_MAX","crypto_stream_salsa20_NONCEBYTES","crypto_stream_xchacha20_KEYBYTES","crypto_stream_xchacha20_MESSAGEBYTES_MAX","crypto_stream_xchacha20_NONCEBYTES","crypto_stream_xsalsa20_KEYBYTES","crypto_stream_xsalsa20_MESSAGEBYTES_MAX","crypto_stream_xsalsa20_NONCEBYTES","crypto_verify_16_BYTES","crypto_verify_32_BYTES","crypto_verify_64_BYTES"];for(o=0;o<e.length;o++)"function"==typeof(s=t["_"+e[o].toLowerCase()])&&(_[e[o]]=s());var c=["SODIUM_VERSION_STRING","crypto_pwhash_STRPREFIX","crypto_pwhash_scryptsalsa208sha256_STRPREFIX"];for(o=0;o<c.length;o++){var s;"function"==typeof(s=t["_"+c[o].toLowerCase()])&&(_[c[o]]=t.UTF8ToString(s()))}}t=r;try{a();var o=sodium.crypto_hash_sha256("foo");if("2c26b46b68ffc68ff99b453c1d30413413422d706483bfa0f98a5e886266e7ae"===sodium.to_hex(o))return}catch(_){if(null==t.useBackupModule)throw new Error("Both wasm and asm failed to load"+_)}t.useBackupModule(),a()}));function o(_){if("function"==typeof TextEncoder)return(new TextEncoder).encode(_);_=unescape(encodeURIComponent(_));for(var r=new Uint8Array(_.length),t=0,a=_.length;t<a;t++)r[t]=_.charCodeAt(t);return r}function e(_){if("function"==typeof TextDecoder)return new TextDecoder("utf-8",{fatal:!0}).decode(_);var r=8192,t=Math.ceil(_.length/r);if(t<=1)try{return decodeURIComponent(escape(String.fromCharCode.apply(null,_)))}catch(_){throw new TypeError("The encoded data was not valid.")}for(var a="",o=0,c=0;c<t;c++){var s=Array.prototype.slice.call(_,c*r+o,(c+1)*r+o);if(0!=s.length){var h,p=s.length,n=0;do{var E=s[--p];E>=240?(n=4,h=!0):E>=224?(n=3,h=!0):E>=192?(n=2,h=!0):E<128&&(n=1,h=!0)}while(!h);for(var y=n-(s.length-p),S=0;S<y;S++)o--,s.pop();a+=e(s)}}return a}function c(_){_=f(null,_,"input");for(var r,t,a,o="",e=0;e<_.length;e++)a=87+(t=15&_[e])+(t-10>>8&-39)<<8|87+(r=_[e]>>>4)+(r-10>>8&-39),o+=String.fromCharCode(255&a)+String.fromCharCode(a>>>8);return o}var s={ORIGINAL:1,ORIGINAL_NO_PADDING:3,URLSAFE:5,URLSAFE_NO_PADDING:7};function h(_){if(null==_)return s.URLSAFE_NO_PADDING;if(_!==s.ORIGINAL&&_!==s.ORIGINAL_NO_PADDING&&_!==s.URLSAFE&&_!=s.URLSAFE_NO_PADDING)throw new Error("unsupported base64 variant");return _}function p(_,r){r=h(r),_=f(o,_,"input");var a,o=[],c=0|Math.floor(_.length/3),s=_.length-3*c,p=4*c+(0!==s?0==(2&r)?4:2+(s>>>1):0),n=new S(p+1),E=i(_);return o.push(E),o.push(n.address),0===t._sodium_bin2base64(n.address,n.length,E,_.length,r)&&Y(o,"conversion failed"),n.length=p,a=e(n.to_Uint8Array()),l(o),a}function n(_,r){var t=r||"uint8array";if(!E(t))throw new Error(t+" output format is not available");if(_ instanceof S){if("uint8array"===t)return _.to_Uint8Array();if("text"===t)return e(_.to_Uint8Array());if("hex"===t)return c(_.to_Uint8Array());if("base64"===t)return p(_.to_Uint8Array(),s.URLSAFE_NO_PADDING);throw new Error('What is output format "'+t+'"?')}if("object"==typeof _){for(var a=Object.keys(_),o={},h=0;h<a.length;h++)o[a[h]]=n(_[a[h]],t);return o}if("string"==typeof _)return _;throw new TypeError("Cannot format output")}function E(_){for(var r=["uint8array","text","hex","base64"],t=0;t<r.length;t++)if(r[t]===_)return!0;return!1}function y(_){if(_){if("string"!=typeof _)throw new TypeError("When defined, the output format must be a string");if(!E(_))throw new Error(_+" is not a supported output format")}}function S(_){this.length=_,this.address=T(_)}function i(_){var r=T(_.length);return t.HEAPU8.set(_,r),r}function T(_){var r=t._malloc(_);if(0===r)throw{message:"_malloc() failed",length:_};return r}function l(_){if(_)for(var r=0;r<_.length;r++)a=_[r],t._free(a);var a}function Y(_,r){throw l(_),new Error(r)}function u(_,r){throw l(_),new TypeError(r)}function B(_,r,t){null==r&&u(_,t+" cannot be null or undefined")}function f(_,r,t){return B(_,r,t),r instanceof Uint8Array?r:"string"==typeof r?o(r):void u(_,"unsupported input type for "+t)}function d(_,r){var a=[];y(r);var o=i(_=f(a,_,"message")),e=_.length;a.push(o);var c=new S(0|t._crypto_hash_sha256_bytes()),s=c.address;if(a.push(s),0==(0|t._crypto_hash_sha256(s,o,e,0))){var h=n(c,r);return l(a),h}Y(a,"invalid usage")}function A(_,r){var a=[];y(r),B(a,_,"state_address");var o=new S(0|t._crypto_hash_sha256_bytes()),e=o.address;if(a.push(e),0==(0|t._crypto_hash_sha256_final(_,e))){var c=(t._free(_),n(o,r));return l(a),c}Y(a,"invalid usage")}function M(_){var r=[];y(_);var a=new S(104).address;if(0==(0|t._crypto_hash_sha256_init(a))){var o=a;return l(r),o}Y(r,"invalid usage")}function m(_,r,a){var o=[];y(a),B(o,_,"state_address");var e=i(r=f(o,r,"message_chunk")),c=r.length;o.push(e),0!=(0|t._crypto_hash_sha256_update(_,e,c))&&Y(o,"invalid usage"),l(o)}function I(){var _=t._sodium_version_string(),r=t.UTF8ToString(_);return l([]),r}return S.prototype.to_Uint8Array=function(){var _=new Uint8Array(this.length);return _.set(t.HEAPU8.subarray(this.address,this.address+this.length)),_},_.add=function(_,r){if(!(_ instanceof Uint8Array&&r instanceof Uint8Array))throw new TypeError("Only Uint8Array instances can added");var t=_.length,a=0,o=0;if(r.length!=_.length)throw new TypeError("Arguments must have the same length");for(o=0;o<t;o++)a>>=8,a+=_[o]+r[o],_[o]=255&a},_.base64_variants=s,_.compare=function(_,r){if(!(_ instanceof Uint8Array&&r instanceof Uint8Array))throw new TypeError("Only Uint8Array instances can be compared");if(_.length!==r.length)throw new TypeError("Only instances of identical length can be compared");for(var t=0,a=1,o=_.length;o-- >0;)t|=r[o]-_[o]>>8&a,a&=(r[o]^_[o])-1>>8;return t+t+a-1},_.from_base64=function(_,r){r=h(r);var a,o=[],e=new S(3*(_=f(o,_,"input")).length/4),c=i(_),s=T(4),p=T(4);return o.push(c),o.push(e.address),o.push(e.result_bin_len_p),o.push(e.b64_end_p),0!==t._sodium_base642bin(e.address,e.length,c,_.length,0,s,p,r)&&Y(o,"invalid input"),t.getValue(p,"i32")-c!==_.length&&Y(o,"incomplete input"),e.length=t.getValue(s,"i32"),a=e.to_Uint8Array(),l(o),a},_.from_hex=function(_){var r,a=[],o=new S((_=f(a,_,"input")).length/2),e=i(_),c=T(4);return a.push(e),a.push(o.address),a.push(o.hex_end_p),0!==t._sodium_hex2bin(o.address,o.length,e,_.length,0,0,c)&&Y(a,"invalid input"),t.getValue(c,"i32")-e!==_.length&&Y(a,"incomplete input"),r=o.to_Uint8Array(),l(a),r},_.from_string=o,_.increment=function(_){if(!(_ instanceof Uint8Array))throw new TypeError("Only Uint8Array instances can be incremented");for(var r=256,t=0,a=_.length;t<a;t++)r>>=8,r+=_[t],_[t]=255&r},_.is_zero=function(_){if(!(_ instanceof Uint8Array))throw new TypeError("Only Uint8Array instances can be checked");for(var r=0,t=0,a=_.length;t<a;t++)r|=_[t];return 0===r},_.libsodium=r,_.memcmp=function(_,r){if(!(_ instanceof Uint8Array&&r instanceof Uint8Array))throw new TypeError("Only Uint8Array instances can be compared");if(_.length!==r.length)throw new TypeError("Only instances of identical length can be compared");for(var t=0,a=0,o=_.length;a<o;a++)t|=_[a]^r[a];return 0===t},_.memzero=function(_){if(!(_ instanceof Uint8Array))throw new TypeError("Only Uint8Array instances can be wiped");for(var r=0,t=_.length;r<t;r++)_[r]=0},_.output_formats=function(){return["uint8array","text","hex","base64"]},_.pad=function(_,r){if(!(_ instanceof Uint8Array))throw new TypeError("buffer must be a Uint8Array");if((r|=0)<=0)throw new Error("block size must be > 0");var a,o=[],e=T(4),c=1,s=0,h=0|_.length,p=new S(h+r);o.push(e),o.push(p.address);for(var n=p.address,E=p.address+h+r;n<E;n++)t.HEAPU8[n]=_[s],s+=c=1&~((65535&((h-=c)>>>48|h>>>32|h>>>16|h))-1>>16);return 0!==t._sodium_pad(e,p.address,_.length,r,p.length)&&Y(o,"internal error"),p.length=t.getValue(e,"i32"),a=p.to_Uint8Array(),l(o),a},_.unpad=function(_,r){if(!(_ instanceof Uint8Array))throw new TypeError("buffer must be a Uint8Array");if((r|=0)<=0)throw new Error("block size must be > 0");var a=[],o=i(_),e=T(4);return a.push(o),a.push(e),0!==t._sodium_unpad(e,o,_.length,r)&&Y(a,"unsupported/invalid padding"),_=(_=new Uint8Array(_)).subarray(0,t.getValue(e,"i32")),l(a),_},_.ready=a,_.symbols=function(){return Object.keys(_).sort()},_.to_base64=p,_.to_hex=c,_.to_string=e,_}var t="object"==typeof _.sodium&&"function"==typeof _.sodium.onload?_.sodium.onload:null;"function"==typeof define&&define.amd?define(["exports","libsodium-sumo"],r):"object"==typeof exports&&"string"!=typeof exports.nodeName?r(exports,require("libsodium-sumo")):_.sodium=r(_.commonJsStrict={},_.libsodium),t&&_.sodium.ready.then((function(){t(_.sodium)}))}(this);
